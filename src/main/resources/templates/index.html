<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <meta charset="utf-8">
    <link rel="icon" href="https://jscdn.com.cn/highcharts/images/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* css 代码  */
        .fundTitle {
            display: block;
            float: left;
            width: 187px;
        }
    </style>
    <script src="https://code.highcharts.com.cn/jquery/jquery-1.8.3.min.js"></script>
    <script src="https://cdn.highcharts.com.cn/highstock/highstock.js"></script>
    <script src="https://cdn.highcharts.com.cn/highcharts/modules/exporting.js"></script>
    <script src="https://cdn.highcharts.com.cn/highcharts/modules/oldie.js"></script>
    <script src="https://code.highcharts.com.cn/highcharts-plugins/highcharts-zh_CN.js"></script>
    <!--    <script src="https://cdn.highcharts.com.cn/highcharts/themes/dark-unica.js"></script>-->
    <!--    <script src="https://cdn.highcharts.com.cn/highcharts/themes/sand-signika.js"></script>-->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

</head>

<body>
<div style="
    font-size: 10px;
">
    <div>
        <button onclick="getFundDataAll()">刷新数据</button>
    </div>
    <div class="fundTitle">
        <ul>
            <li onclick="getFundData('002943','002943(广发多因子)')">002943(广发多因子)</li>
            <li onclick="getFundData('004235','004235(中欧价值)')">004235(中欧价值)</li>
            <li onclick="getFundData('007594','007594(鹏扬中证500)')">007594(鹏扬中证500)</li>
            <li onclick="getFundData('013116','013116(华安文体健康)')">013116(华安文体健康)</li>
            <li onclick="getFundData('006253','006253(永赢消费主题)')">006253(永赢消费主题)</li>
            <li onclick="getFundData('180012','180012(银华富裕)')">180012(银华富裕)</li>
            <li onclick="getFundData('006269','006269(永赢智能领先)')">006269(永赢智能领先)</li>
            <li onclick="getFundData('005969','005969(创金工业周期)')">005969(创金工业周期)</li>
            <li onclick="getFundData('001740','001740(光大中国制造)')">001740(光大中国制造)</li>
            <li onclick="getFundData('003096','003096(中欧医疗健康)')">003096(中欧医疗健康)</li>
            <li onclick="getFundData('012323','012323(华宝医疗指数)')">012323(华宝医疗指数)</li>
            <li onclick="getFundData('012417','012417(招商生物医药)')">012417(招商生物医药)</li>
            <li onclick="getFundData('012414','012414(招商中证白酒)')">012414(招商中证白酒)</li>
            <li onclick="getFundData('012857','012857(汇添中证消费)')">012857(汇添中证消费)</li>
            <li onclick="getFundData('009180','009180(嘉实中证消费)')">009180(嘉实中证消费)</li>
            <li onclick="getFundData('011513','011513(天弘中证能源)')">011513(天弘中证能源)</li>
            <li onclick="getFundData('007874','007874(华宝科技ETF)')">007874(华宝科技ETF)</li>
            <li onclick="getFundData('011103','011103(天弘中证光伏)')">011103(天弘中证光伏)</li>
            <li onclick="getFundData('008888','008888(华夏中证芯片)')">008888(华夏中证芯片)</li>
            <li onclick="getFundData('005693','005693(广发中证军工)')">005693(广发中证军工)</li>
        </ul>
    </div>

    <div class="fundTitle">
        <ul>
            <li onclick="getFundData('010990','010990(南方有色金属C)')">010990(南方有色金属C)</li>
            <li onclick="getFundData('011036','011036(嘉实中证稀土)')">011036(嘉实中证稀土)</li>
            <li onclick="getFundData('008591','008591(天弘中证证券)')">008591(天弘中证证券)</li>
            <li onclick="getFundData('160424','160424(华安创业板50)')">160424(华安创业板50)</li>
            <li onclick="getFundData('006614','006614(嘉实港股指数)')">006614(嘉实港股指数)</li>
            <li onclick="getFundData('004753','004753(广发中证传媒)')">004753(广发中证传媒)</li>
            <li onclick="getFundData('001630','001630(天弘计算机)')">001630(天弘计算机)</li>
            <li onclick="getFundData('002984','002984(广发中证环保)')">002984(广发中证环保)</li>
            <li onclick="getFundData('001618','001618(天弘中证电子)')">001618(天弘中证电子)</li>
            <li onclick="getFundData('001551','001551(天弘中证医药)')">001551(天弘中证医药)</li>
            <li onclick="getFundData('009881','009881(广发中证医疗)')">009881(广发中证医疗)</li>
            <li onclick="getFundData('008280','008280(国泰中证煤炭)')">008280(国泰中证煤炭)</li>
            <li onclick="getFundData('005224','005224(广发中证基建)')">005224(广发中证基建)</li>
            <li onclick="getFundData('010989','010989(南方中证房地产)')">010989(南方中证房地产)</li>
            <li onclick="getFundData('012810','012810(鹏华国证钢铁)')">012810(鹏华国证钢铁)</li>
            <li onclick="getFundData('001595','001595(天弘中证银行)')">001595(天弘中证银行)</li>
            <li onclick="getFundData('004857','004857(广发中证建筑)')">004857(广发中证建筑)</li>
            <li onclick="getFundData('005064','005064(广发中证电器)')">004857(广发中证电器)</li>
            <li onclick="getFundData('010770','010770(天弘中证农业)')">010770(天弘中证农业)</li>
            <li onclick="getFundData('001593','001593(天弘创业板ETF)')">001593(天弘创业板ETF)</li>
        </ul>
    </div>
    <div class="fundTitle">
        <ul>

            <li onclick="getFundData('501012','501012(汇添富中证中药)')">501012(汇添富中证中药)</li>
            <li onclick="getFundData('012808','012808(鹏华中证资源)')">012808(鹏华中证资源)</li>
            <li onclick="getFundData('009329','009329(华宝中证消费龙头)')">009329(华宝中证消费龙头)</li>
            <li onclick="getFundData('006229','006229(中欧医疗创新)')">006229(中欧医疗创新)</li>
            <li onclick="getFundData('001632','001632(天弘中证食品饮料)')">001632(天弘中证食品饮料)</li>
            <li onclick="getFundData('008001','008001(鹏华中证500)')">008001(鹏华中证500)</li>
            <li onclick="getFundData('012620','012620(嘉实中证软件)')">012620(嘉实中证软件)</li>
            <li onclick="getFundData('012544','012544(嘉实新能源汽车)')">012544(嘉实新能源汽车)</li>
            <li onclick="getFundData('002199','002199(前海开源中证军工)')">002199(前海开源中证军工)</li>
            <li onclick="getFundData('012365','012365(广发中证光伏)')">012365(广发中证光伏)</li>
            <li onclick="getFundData('007883','007883(易方达沪深300医药)')">007883(易方达300医药)</li>
            <li onclick="getFundData('012838','012838(华安CES半导体)')">012838(华安CES半导体)</li>
            <li onclick="getFundData('011840','011840(天弘人工智能)')">011840(天弘人工智能)</li>
            <li onclick="getFundData('010956','010956(天弘智能汽车)')">010956(天弘智能汽车)</li>
            <li onclick="getFundData('012970','012970(鹏华半导体)')">012970(鹏华半导体)</li>
            <li onclick="getFundData('009480','009480(中银100ETF)')">009480(中银100ETF)</li>
            <li onclick="getFundData('013196','013196(招商新能源车)')">013196(招商新能源车)</li>
            <li onclick="getFundData('012886','012886(华夏光伏产业)')">012886(华夏光伏产业)</li>
            <li onclick="getFundData('005626','005626(富国中证医药)')">005626(富国中证医药)</li>
            <li onclick="getFundData('002978','002978(广发中证医药)')">002978(广发中证医药)</li>
        </ul>
    </div>

    <div class="fundTitle">
        <ul>
            <li onclick="getFundData('006569','006569(国联安中证医药)')">006569(国联安中证医药)</li>
            <li onclick="getFundData('004407','004407(招商上证消费80)')">004407(招商上证消费80)</li>
            <li onclick="getFundData('012043','012043(鹏华酒指数)')">012043(鹏华酒指数)</li>
            <li onclick="getFundData('008976','008976(富国中证消费50)')">008976(富国中证消费50)</li>
            <li onclick="getFundData('013048','013048(富国新能源汽车)')">013048(富国新能源汽车)</li>
            <li onclick="getFundData('012699','012699(平安新能源汽车)')">012699(平安新能源汽车)</li>
            <li onclick="getFundData('007301','007301(国联安中证半导体)')">007301(国联安半导体)</li>
            <li onclick="getFundData('012630','012630(广发国证半导体)')">012630(广发国证半导体)</li>
            <li onclick="getFundData('012041','012041(鹏华国防指数)')">012041(鹏华国防指数)</li>
            <li onclick="getFundData('010364','010364(鹏华空天军工)')">010364(鹏华空天军工)</li>
            <li onclick="getFundData('008586','008586(华夏中证人工智能)')">008586(华夏人工智能)</li>
            <li onclick="getFundData('010524','010524(银华中证5G通信)')">010524(银华5G通信)</li>
            <li onclick="getFundData('007539','007539(永赢沪深300)')">007539(永赢沪深300)</li>
            <li onclick="getFundData('005918','005918(天弘沪深300)')">005918(天弘沪深300)</li>
            <li onclick="getFundData('160724','160724(嘉实沪深300)')">160724(嘉实沪深300)</li>
            <li onclick="getFundData('001549','001549(天弘上证50)')">001549(天弘上证50)</li>
            <li onclick="getFundData('004070','004070(南方中证证券)')">004070(南方中证证券)</li>
            <li onclick="getFundData('002979','002979(广发金融地产)')">002979(广发金融地产)</li>
            <li onclick="getFundData('013275','013275(富国中证煤炭)')">013275(富国中证煤炭)</li>
            <li onclick="getFundData('005733','005733(华夏上证50)')">005733(华夏上证50)</li>
        </ul>
    </div>
    <div class="fundTitle">
        <ul>
            <li onclick="getFundData('007531','007531(华宝券商)')">007531(华宝券商)</li>
            <li onclick="getFundData('013320','013320(华安中证新能源)')">013320(华安中证新能源)</li>
            <li onclick="getFundData('012553','012553(天弘中证芯片)')">012553(天弘中证芯片)</li>
            <li onclick="getFundData('012738','012738(广发中证创新药)')">012738(广发中证创新药)</li>
            <li onclick="getFundData('501006','501006(汇添富精准医疗)')">501006(汇添富精准医疗)</li>
            <li onclick="getFundData('012549','012549(华宝中证食品饮料)')">012549(华宝中证食品饮料)</li>
            <li onclick="getFundData('010419','010419(申万环保产业)')">010419(申万环保产业)</li>
            <li onclick="getFundData('010806','010806(西藏东财新能源)')">010806(西藏东财新能源)</li>
            <li onclick="getFundData('011607','011607(民生加银资源)')">011607(民生加银资源)</li>
            <li onclick="getFundData('013035','013035(富国军工)')">013035(富国军工)</li>
            <li onclick="getFundData('012723','012723(平安中证光伏)')">012723(平安中证光伏)</li>
            <li onclick="getFundData('012725','012725(国泰中证畜牧)')">012725(国泰中证畜牧)</li>
            <li onclick="getFundData('012974','012974(国泰汽车零部件)')">012974(国泰汽车零部件)</li>
            <li onclick="getFundData('501031','501031(汇添富环境治理)')">501031(汇添富环境治理)</li>
            <li onclick="getFundData('004855','012723(广发全指汽车)')">004855(广发全指汽车)</li>
            <li onclick="getFundData('012729','012729(国泰动漫游戏)')">012729(国泰动漫游戏)</li>
            <li onclick="getFundData('016186','016186(广发全指电力)')">016186(广发全指电力)</li>
            <li onclick="getFundData('014415','014415(招商畜牧养殖)')">014415(招商畜牧养殖)</li>
            <li onclick="getFundData('013474','013474(华宝中证新材料)')">013474(华宝中证新材料)</li>
            <li onclick="getFundData('016020','016020(招商中证电池)')">016020(招商中证电池)</li>
        </ul>
    </div>
    <div class="fundTitle">
        <ul>
            <li onclick="getFundData('009163','009163(广发医疗保健C)')">009163(广发医疗保健C)</li>
            <li onclick="getFundData('004851','004851(广发医疗保健A)')">004851(广发医疗保健A)</li>
            <li onclick="getFundData('005454','005454(前海开源医疗健康C)')">005454(前海医疗健康C)</li>
            <li onclick="getFundData('008515','008515(国富基本面优选)')">008515(国富基本面优选)</li>
            <li onclick="getFundData('162412','162412(华宝中证医疗A)')">162412(华宝中证医疗A)</li>
            <li onclick="getFundData('501311','501311(嘉实恒生港股通A)')">501311(嘉实恒生港股通A)</li>
            <li onclick="getFundData('007183','007183(万家沪港深蓝筹C)')">007183(万家沪港深蓝筹C)</li>
            <li onclick="getFundData('004195','004195(招商中证1000)')">004195(招商中证1000)</li>
            <li onclick="getFundData('012908','012908(鹏扬中证科创50)')">012908(鹏扬中证科创50)</li>
            <li onclick="getFundData('007380','007380(易方达上证50)')">007380(易方达上证50)</li>
            <li onclick="getFundData('007029','007029(易方达中证500)')">007029(易方达中证500)</li>
            <li onclick="getFundData('007804','007804(申万沪深300)')">007804(申万沪深300)</li>
            <li onclick="getFundData('007571','007571(南方上证380)')">007571(南方上证380)</li>
            <li onclick="getFundData('005737','005737(博时上证50)')">005737(博时上证50)</li>
            <li onclick="getFundData('007665','007665(永赢创业板)')">007665(永赢创业板)</li>
            <li onclick="getFundData('011609','011609(易方达科创50)')">011609(易方达科创50)</li>
            <li onclick="getFundData('005229','005229(嘉实富时A50)')">005229(嘉实富时A50)</li>
            <li onclick="getFundData('001589','001589(天弘中证800)')">001589(天弘中证800)</li>
            <li onclick="getFundData('015922','015922(申万国证2000)')">015922(申万国证2000)</li>
        </ul>
    </div>


</div>
<div style=" display: block;width: 100%; float: left;">
    <div id="container" style="min-width:400px;height:400px"></div>
</div>
<script>
    // JS 代码
    var chart = null;
    var fundName = '';


    var mapData = {

        '002943': '0.2403',
        '004235': '0',
        '007594': '0',
        '013116': '0',
        '006253': '0',
        '180012': '0.953',
        '006269': '0',
        '005969': '0',
        '001740': '0.147',

        '003096': '0.232',
        '012323': '0',
        '012417': '0',
        '012414': '0.085',
        '012857': '0',
        '009180': '0',
        '011513': '0',
        '007874': '0',
        '011103': '0',
        '008888': '0',
        '005693': '0',
        '010990': '0',
        '011036': '0',
        '008591': '0',
        '160424': '0.28',
        '006614': '0',

        '004753': '0',
        '001630': '0',
        '002984': '0',
        '001618': '0',
        '001551': '0',
        '009881': '0',
        '008280': '0.3',
        '005224': '0',
        '010989': '0',
        '012810': '0',
        '001595': '0',
        '004857': '0',
        '005064': '0',
        '010770': '0',
        '001593': '0',
        '501012': '0',
        '012808': '0',
        '009329': '0',
        '006229': '0',
        '001632': '0.0776',
        '008001': '0',
        '012620': '0',
        '012544': '0',
        '002199': '0.96',
        '012365': '0',
        '007883': '0',
        '012838': '0',
        '011840': '0',
        '010956': '0',
        '012970': '0',
        '009480': '0',
        '013196': '0',
        '012886': '0',

        '005626': '0',
        '002978': '0',
        '006569': '0',
        '004407': '0',
        '012043': '0.08',
        '008976': '0',
        '013048': '0',
        '012699': '0',
        '007301': '0',
        '012630': '0',
        '012041': '0',
        '010364': '0',
        '008586': '0',
        '010524': '0',
        '007539': '0',
        '005918': '0',
        '160724': '0.3776',
        '001549': '0',
        '004070': '0',
        '002979': '0',
        '013275': '0',
        '005733': '0.0553',
        '007531': '0',
        '013320': '0',

        '012553': '0',
        '012738': '0',
        '501006': '0',
        '012549': '0',
        '010419': '0',
        '010806': '0',
        '011607': '0',
        '013035': '0',
        '012723': '0',
        '012725': '0',
        '012974': '0',
        '501031': '0',
        '004855': '0',
        '012729': '0',
        '016186': '0',
        '014415': '0',
        '013474': '0',
        '016020': '0',
        '009163': '0',
        '004851': '0',
        '005454': '0',
        '008515': '0',
        '162412': '0',
        '501311': '0',
        '007183': '0',
        '004195': '0',
        '012908': '0',
        '007380': '0',
        '007029': '0',
        '007804': '0',
        '007571': '0',
        '005737': '0',
        '007665': '0',
        '011609': '0',
        '005229': '0',
        '001589': '0',
        '015922': '0',


    }

    var mapDataRate = {
        '002943': 0.96,
        '004235': 0.96,
        '007594': 0.96,
        '013116': 0.96,
        '006253': 0.95,
        '180012': 0.95,
        '006269': 0.95,
        '005969': 0.95,
        '001740': 0.95,

        '003096': 0.95,
        '012323': 0.95,
        '012417': 0.95,
        '012414': 0.95,
        '012857': 0.95,
        '009180': 0.95,
        '011513': 0.95,
        '007874': 0.95,
        '011103': 0.95,
        '008888': 0.95,
        '005693': 0.95,
        '010990': 0.95,
        '011036': 0.95,
        '008591': 0.95,
        '160424': 0.95,
        '006614': 0.95,

        '004753': 0.95,
        '001630': 0.95,
        '002984': 0.95,
        '001618': 0.95,
        '001551': 0.96,
        '009881': 0.95,
        '008280': 0.95,
        '005224': 0.95,
        '010989': 0.95,
        '012810': 0.95,
        '001595': 0.95,
        '004857': 0.95,
        '005064': 0.95,
        '010770': 0.95,
        '001593': 0.95,
        '501012': 0.95,
        '012808': 0.95,
        '009329': 0.95,
        '006229': 0.95,
        '001632': 0.95,
        '008001': 0.95,
        '012620': 0.95,
        '012544': 0.95,
        '002199': 0.95,
        '012365': 0.95,
        '007883': 0.95,
        '012838': 0.95,
        '011840': 0.95,
        '010956': 0.95,
        '012970': 0.95,
        '009480': 0.95,
        '013196': 0.95,
        '012886': 0.95,

        '005626': 0.95,
        '002978': 0.95,
        '006569': 0.95,
        '004407': 0.95,
        '012043': 0.95,
        '008976': 0.95,
        '013048': 0.95,
        '012699': 0.95,
        '007301': 0.95,
        '012630': 0.95,
        '012041': 0.95,
        '010364': 0.95,
        '008586': 0.95,
        '010524': 0.95,
        '007539': 0.95,
        '005918': 0.95,
        '160724': 0.95,
        '001549': 0.95,
        '004070': 0.95,
        '002979': 0.95,
        '013275': 0.95,
        '005733': 0.95,
        '007531': 0.95,
        '013320': 0.95,

        '012553': 0.95,
        '012738': 0.95,
        '501006': 0.95,
        '012549': 0.95,
        '010419': 0.95,
        '010806': 0.95,
        '011607': 0.95,
        '013035': 0.95,
        '012723': 0.95,
        '012725': 0.95,
        '012974': 0.95,
        '501031': 0.95,
        '004855': 0.95,
        '012729': 0.95,
        '016186': 0.95,
        '014415': 0.95,
        '013474': 0.95,
        '016020': 0.95,
        '009163': 0.95,
        '004851': 0.95,
        '005454': 0.95,
        '008515': 0.95,
        '162412': 0.95,
        '501311': 0.95,
        '007183': 0.95,
        '004195': 0.95,
        '012908': 0.95,
        '007380': 0.95,
        '007029': 0.95,
        '007804': 0.95,
        '007571': 0.95,
        '005737': 0.95,
        '007665': 0.95,
        '011609': 0.95,
        '005229': 0.95,
        '001589': 0.95,
        '015922': 0.95,

    }


    function getFundData(id, name) {
        console.log(id);
        fundName = name;
        $.get('/fund/getFundDataListOne?fundId=' + id, fundListData => {
            let fundData = eval("(" + fundListData + ")");
            var timestamp = new Date().getTime();

            $.ajax({
                type: "get",
                url: "https://fundgz.1234567.com.cn/js/" + id + ".js?rt=" + timestamp,
                dataType: "jsonp",		//这个设置可以允许跨域调用js
                jsonpCallback: "jsonpgz",	//这个很重要,是根据跨域目标服务器上返回的json数据中的函数起名
                success: function (data) {
                    // console.log(data.gsz);	//这里就可以将data当作是JSON对象来直接调用属性来使用了
                    // console.log(data.gztime.substring(0, 10));
                    if (data) {
                        var time1 = convertDateFromString(data.gztime.substring(0, 10)).getTime();
                        // console.log(time1);
                        // console.log(fundData[fundData.length - 1][0]);
                        if (mapData[id] != '0' || mapData[id] != 0) {
                            for (let i = 0; i < fundData.length; i++) {
                                fundData[i][1] = parseFloat((fundData[i][1] - parseFloat(mapData[id])).toFixed(4));
                            }
                        }
                        if (time1 != fundData[fundData.length - 1][0]) {
                            fundData.push([timestamp, parseFloat(data.gsz)]);
                        } else if (fundData[fundData.length - 1][1] == null) {
                            fundData[fundData.length - 1][1] = parseFloat(data.gsz);
                        }

                    }
                    chartImage(fundData, id);
                }
            });
        })
    }

    function convertDateFromString(dateString) {
        if (dateString) {
            var date = new Date(dateString.replace(/-/, "/"))
            return date;
        }
    }


    function chartImage(chartData, fundId) {
        let maxData = getChartDataMax(chartData);
        let maxDataDate = getChartDataMaxDate(chartData);
        let paramData = {
            chartData: JSON.stringify(chartData),
            fundCode: fundId,
            maxData: maxData,
            maxDataDate: maxDataDate,
        }
        axios.post('/fund/addFundInfoList', paramData)
            .then(function (res) {
                console.log(res);
            })
            .catch(function (error) {
                console.log(error);
            });


        var charOptions = {
            global: {useUTC: false},
            rangeSelector: {
                buttons: [{ // 时间范围按钮数组
                    type: 'month',
                    count: 1,
                    text: '1月'
                }, { // 时间范围按钮数组
                    type: 'month',
                    count: 2,
                    text: '2月'
                }, {
                    type: 'month',
                    count: 3,
                    text: '3月'
                }, {
                    type: 'month',
                    count: 6,
                    text: '6月'
                }, {
                    type: 'ytd',
                    text: '近一年'
                }, {
                    type: 'year',
                    count: 1,
                    text: '1年'
                }, {
                    type: 'year',
                    count: 2,
                    text: '2年'
                }, {
                    type: 'year',
                    count: 3,
                    text: '3年'
                }, {
                    type: 'all',
                    text: '所有'
                }]
                ,
                selected: 1  // 默认选中的范围，值为上面 buttons 数组的下标（从 0 开始）
            },
            chart: {
                zoomType: 'x'
            },
            title: {
                text: fundName + '净值走势图'
            },
            subtitle: {
                text: document.ontouchstart === undefined ?
                    '鼠标拖动可以进行缩放' : '手势操作进行缩放'
            },
            xAxis: {
                type: 'datetime',
                dateTimeLabelFormats: {
                    millisecond: '%H:%M:%S.%L',
                    second: '%H:%M:%S',
                    minute: '%H:%M',
                    hour: '%H:%M',
                    day: '%m-%d',
                    week: '%m-%d',
                    month: '%Y-%m',
                    year: '%Y'
                }
            },
            tooltip: {
                backgroundColor: '#eae4e4',   // 背景颜色
                borderColor: '#ef0707',         // 边框颜色
                borderRadius: 3,             // 边框圆角
                borderWidth: 1,               // 边框宽度
                shadow: true,                 // 是否显示阴影
                animation: true,             // 是否启用动画效果
                style: {                      // 文字内容相关样式
                    color: "#ef0707",
                    fontSize: "12px",
                    fontWeight: "blod",
                    fontFamily: "Courir new"
                },
                dateTimeLabelFormats: {
                    millisecond: '%H:%M:%S.%L',
                    second: '%H:%M:%S',
                    minute: '%H:%M',
                    hour: '%H:%M',
                    day: '%Y-%m-%d',
                    week: '%m-%d',
                    month: '%Y-%m',
                    year: '%Y'
                },
                pointFormat: '<span style="color:{series.color}">\u25CF</span> {series.name}: <b>{point.y}</b><br/>'
            },
            yAxis: {
                // alternateGridColor: '#FDFFD5',
                // gridLineColor: '#d7f5eb',
                plotLines: [],
                title: {
                    text: '净值'
                }
            },
            legend: {
                enabled: false
            },
            plotOptions: {
                area: {
                    fillColor: {
                        linearGradient: {
                            x1: 0,
                            y1: 0,
                            x2: 0,
                            y2: 1
                        },
                        stops: [
                            [0, new Highcharts.getOptions().colors[0]],
                            [1, new Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
                        ]
                    },
                    marker: {
                        radius: 2
                    },
                    lineWidth: 1,
                    states: {
                        hover: {
                            lineWidth: 1
                        }
                    },
                    threshold: null
                }
            },
            series: [{
                type: 'area',
                name: fundName + '净值',
                data: chartData
            }],

        }

        let plotLines = [];
        for (let i = 0; i < 20; i++) {
            plotLines.push({
                color: 'red',            //线的颜色，定义为红色
                dashStyle: 'solid',//标示线的样式，默认是solid（实线），这里定义为长虚线
                value: maxData,                //定义在哪个值上显示标示线，这里是在x轴上刻度为3的值处垂直化一条线
                width: 1,                //标示线的宽度，2px
                label: {
                    text: i,
                    align: 'right',
                    style: {color: 'red', fontWeight: '800'},

                }
            })

            maxData = maxData * mapDataRate[fundId];
        }
        charOptions.yAxis.plotLines = plotLines;


        Highcharts.setOptions({global: {useUTC: false}});
        chart = Highcharts.stockChart('container', charOptions);
    }

    function getChartDataMax(chartData) {
        let maxDataMy = 0;
        for (let i = 0; i < chartData.length; i++) {
            if (maxDataMy < chartData[i][1]) {
                maxDataMy = chartData[i][1];
            }
        }
        return maxDataMy;
    };

    function getChartDataMaxDate(chartData) {
        let maxDataMy = 0;
        let maxDataDateMy = 0;
        for (let i = 0; i < chartData.length; i++) {
            if (maxDataMy < chartData[i][1]) {
                maxDataMy = chartData[i][1];
                maxDataDateMy = chartData[i][0];
            }
        }
        return maxDataDateMy;
    };


    function request(param, param2) {
        return new Promise((resolve) => {
            let time = 2000                 //为了模拟每次请求的时长不同，这里每次等待随机时间0到1s
            setTimeout(() => {
                getFundData(param, param2);
                resolve({param, time})
            }, time)              //请求结束之后，调用回调函数
        })
    }

    async function getFundDataAll() {
        await request('002943', '002943(1.广发多因子)')
        await request('004235', '004235(2.中欧价值)');
        await request('007594', '007594(3.鹏扬中证500)');
        await request('013116', '013116(4.华安文体健康)');
        await request('006253', '006253(5.永赢消费主题)');
        await request('180012', '180012(6.银华富裕)');
        await request('006269', '006269(7.永赢智能领先)');
        await request('005969', '005969(8.创金工业周期)');
        await request('001740', '001740(9.光大中国制造)');
        await request('003096', '003096(10.中欧医疗健康)');
        await request('012323', '012323(11.华宝医疗指数)');
        await request('012417', '012417(12.招商生物医药)');
        await request('012414', '012414(13.招商中证白酒)');
        await request('012857', '012857(14.汇添中证消费)');
        await request('009180', '009180(15.嘉实中证消费)');
        await request('011513', '011513(16.天弘中证能源)');
        await request('007874', '007874(17.华宝科技ETF)');
        await request('011103', '011103(18.天弘中证光伏)');
        await request('008888', '008888(19.华夏中证芯片)');
        await request('005693', '005693(20.广发中证军工)');

        await request('010990', '010990(21.南方有色金属C)');
        await request('011036', '011036(22.嘉实中证稀土)');
        await request('008591', '008591(23.天弘中证证券)');
        await request('160424', '160424(24.华安创业板50)');
        await request('006614', '006614(25.嘉实港股指数)');
        await request('004753', '004753(26.广发中证传媒)');
        await request('001630', '001630(27.天弘计算机)');
        await request('002984', '002984(28.广发中证环保)');
        await request('001618', '001618(29.天弘中证电子)');
        await request('001551', '001551(30.天弘中证医药)');
        await request('009881', '009881(31.广发中证医疗)');
        await request('008280', '008280(32.国泰中证煤炭)');
        await request('005224', '005224(33.广发中证基建)');
        await request('010989', '010989(34.南方中证房地产)');
        await request('012810', '012810(35.鹏华国证钢铁)');
        await request('001595', '001595(36.天弘中证银行)');
        await request('004857', '004857(37.广发中证建筑)');
        await request('005064', '005064(38.广发中证电器)');
        await request('010770', '010770(39.天弘中证农业)');
        await request('001593', '001593(40.天弘创业板ETF)');

        await request('501012', '501012(41.汇添富中证中药)');
        await request('012808', '012808(42.鹏华中证资源)');
        await request('009329', '009329(43.华宝中证消费龙头)');
        await request('006229', '006229(44.中欧医疗创新)');
        await request('001632', '001632(45.天弘中证食品饮料)');
        await request('008001', '008001(46.鹏华中证500)');
        await request('012620', '012620(47.嘉实中证软件)');
        await request('012544', '012544(48.嘉实新能源汽车)');
        await request('002199', '002199(49.前海开源中证军工)');
        await request('012365', '012365(50.广发中证光伏)');
        await request('007883', '007883(51.易方达沪深300医药)');
        await request('012838', '012838(52.华安CES半导体)');
        await request('011840', '011840(53.天弘人工智能)');
        await request('010956', '010956(54.天弘智能汽车)');
        await request('012970', '012970(55.鹏华半导体)');
        await request('009480', '009480(56.中银100ETF)');
        await request('013196', '013196(57.招商新能源车)');
        await request('012886', '012886(58.华夏光伏产业)');
        await request('005626', '005626(59.富国中证医药)');
        await request('002978', '002978(60.广发中证医药)');

        await request('006569', '006569(61.国联安中证医药)');
        await request('004407', '004407(62.招商上证消费80)');
        await request('012043', '012043(63.鹏华酒指数)');
        await request('008976', '008976(64.富国中证消费50)');

        await request('013048', '013048(65.富国中证新能源汽车)');
        await request('012699', '012699(66.平安中证新能源汽车)');
        await request('007301', '007301(67.国联安中证半导体)');
        await request('012630', '012630(68.广发国证半导体)');
        await request('012041', '012041(69.鹏华中证国防指数)');
        await request('010364', '010364(70.鹏华中证空天军工)');

        await request('008586', '008586(71.华夏中证人工智能)');
        await request('010524', '010524(72.银华中证5G通信)');
        await request('007539', '007539(73.永赢沪深300)');
        await request('005918', '005918(74.天弘沪深300)');
        await request('160724', '160724(75.嘉实沪深300)');
        await request('001549', '001549(76.天弘上证50)');

        await request('004070', '004070(77.南方中证证券)');
        await request('002979', '002979(78.广发金融地产)');
        await request('013275', '013275(79.富国中证煤炭)');
        await request('005733', '005733(80.华夏上证50)');
        await request('007531', '007531(81.华宝券商)');
        await request('013320', '013320(82.华安中证新能源)');




        await request('012553', '012553(83.天弘中证芯片)');
        await request('012738', '012738(84.广发中证创新药)');
        await request('501006', '501006(85.汇添富精准医疗)');
        await request('012549', '012549(86.华宝中证食品饮料)');
        await request('010419', '010419(87.申万环保产业)');
        await request('010806', '010806(88.西藏东财新能源)');

        await request('011607', '011607(89.民生加银资源)');
        await request('013035', '013035(90.富国军工)');
        await request('012723', '012723(91.平安中证光伏)');
        await request('012725', '012725(92.国泰中证畜牧)');
        await request('012974', '012974(93.国泰汽车零部件)');

        await request('501031', '501031(94.汇添富环境治理)');
        await request('004855', '004855(95.广发全指汽车)');
        await request('012729', '012729(96.国泰动漫游戏)');
        await request('016186', '016186(97.广发全指电力)');
        await request('014415', '014415(98.招商畜牧养殖)');
        await request('013474', '013474(99.华宝中证新材料)');
        await request('016020', '016020(100.招商中证电池)');

        await request('009163', '009163(101.广发医疗保健C)');
        await request('004851', '004851(102.广发医疗保健A)');
        await request('005454', '005454(103.前海医疗健康C)');
        await request('008515', '008515(104.国富基本面优选)');
        await request('162412', '162412(105.华宝中证医疗A)');
        await request('501311', '501311(106.嘉实恒生港股通A)');
        await request('007183', '007183(107.万家沪港深蓝筹C)');


        await request('004195', '004195(108.招商中证1000)');
        await request('012908', '012908(109.鹏扬中证科创50)');
        await request('007380', '007380(110.易方达上证50)');
        await request('007029', '007029(111.易方达中证500)');
        await request('007804', '007804(112.申万沪深300)');
        await request('007571', '007571(113.南方上证380)');
        await request('005737', '005737(114.博时上证50)');
        await request('007665', '007665(115.永赢创业板)');
        await request('011609', '011609(116.易方达科创50)');
        await request('005229', '005229(117.嘉实富时A50)');
        await request('001589', '001589(118.天弘中证800)');
        await request('015922', '015922(119.申万国证2000)');


    }
</script>
</body>

</html>